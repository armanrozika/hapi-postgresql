(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{33:function(e,t,a){e.exports=a(50)},42:function(e,t,a){},50:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(29),s=a.n(c),i=a(8),o=a(12),l=a(20),d=a(31),m=a(25),p={data:[],addpost:""},u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;return"FETCH_DATA"===t.type?Object(m.a)({},e,{data:t.payload}):"SHOW_SUCCESS"===t.type?Object(m.a)({},e,{addpost:t.payload}):e},h=(a(42),a(9)),f=a(10),b=a(13),E=a(11),v=a(14),g=a(16),N=a(3),y=a.n(N),O=a(15);var S=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(b.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(r)))).state={isHidden:"notHidden"},a.deletePost=function(){var e=Object(O.a)(y.a.mark(function e(t){var a;return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(1!=window.confirm("Delete this post?")){e.next=6;break}return a={id:t},e.next=5,fetch("http://localhost:8000/delete",{method:"DELETE",body:JSON.stringify(a),headers:{"Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(e){return console.log("Success:",JSON.stringify(e))}).catch(function(e){return console.error("Error:",e)});case 5:window.location.reload();case 6:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.hide=function(){a.setState({isHidden:"isHidden"})},a}return Object(v.a)(t,e),Object(f.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchActions()}},{key:"render",value:function(){var e=this;console.log(this.props.notif);var t=this.props.states.map(function(t,a){return r.a.createElement("div",{className:"column",key:t.id},r.a.createElement("div",{className:"box"},r.a.createElement("img",{src:t.picurl,alt:""}),r.a.createElement("div",{className:"block"},r.a.createElement("p",{className:"title is-4 border-bot"},t.name.length>12?t.name.slice(0,12)+"...":t.name),r.a.createElement("p",{className:"subtitle is-6 over-hidden"},t.description.length>100?t.description.slice(0,100)+"...":t.description)),r.a.createElement("div",{className:"block"},r.a.createElement("button",{className:"button is-success is-fullwidth is-active no-pointer"}," Rp. ",t.price)),r.a.createElement("div",{className:"tags"},r.a.createElement(i.b,{to:"/post/"+a,className:"tag is-info"},"EDIT"),r.a.createElement("span",{onClick:function(){return e.deletePost(t.id)},className:"tag is-danger"},"DELETE"))))}),a="added"===this.props.notif?r.a.createElement("div",{className:"notification is-success ".concat(this.state.isHidden)},r.a.createElement("button",{onClick:this.hide,className:"delete"}),r.a.createElement("p",{className:"title is-5"},"Success !")):r.a.createElement("div",null);return r.a.createElement("div",{className:"section"},r.a.createElement("div",{className:"container container-top"},a,r.a.createElement("div",{className:"columns grid-four"},t)))}}]),t}(n.Component),j=Object(o.b)(function(e){return{states:e.data,notif:e.addpost}},{fetchActions:function(){return function(e){fetch("http://localhost:8000").then(function(e){return e.json()}).then(function(t){return e({type:"FETCH_DATA",payload:t})})}}})(S),w=a(17),x=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,c=new Array(n),s=0;s<n;s++)c[s]=arguments[s];return(a=Object(b.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(c)))).state={name:a.props.states[a.props.match.params.id].name,price:a.props.states[a.props.match.params.id].price,description:a.props.states[a.props.match.params.id].description,picurl:a.props.states[a.props.match.params.id].picurl,img:"",index:a.props.match.params.id,redirect:!1,isHidden:"isHidden",hideBody:"notHidden"},a.changeState=function(e){a.setState(Object(w.a)({},e.target.name,e.target.value)),console.log(a.state.name)},a.getImg=function(){var e=Object(O.a)(y.a.mark(function e(t){var n;return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n="http://localhost:8000/upload/"+t.target.files[0].name,e.next=3,a.setState({img:t.target.files[0],picurl:n});case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.onClick=function(){var e=Object(O.a)(y.a.mark(function e(t){var n,r,c;return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.setState({isHidden:"notHidden",hideBody:"isHidden"}),(n=new FormData).append("file",a.state.img),r={method:"POST",body:n},e.next=6,fetch("http://localhost:8000/upload",r).catch(function(e){return console.error("Error:",e)});case 6:return c={id:a.props.states[a.props.match.params.id].id,name:a.state.name,price:a.state.price,description:a.state.description,picurl:a.state.picurl},e.next=9,fetch("http://localhost:8000/update",{method:"POST",body:JSON.stringify(c),headers:{"Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(e){return console.log("Success:",JSON.stringify(e))}).catch(function(e){return console.error("Error:",e)});case 9:a.props.postAdded(),a.setState({redirect:!0,isHidden:"isHidden",hideBody:"notHidden"});case 11:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.renderRedirect=function(){if(a.state.redirect)return r.a.createElement(g.a,{to:"/"})},a}return Object(v.a)(t,e),Object(f.a)(t,[{key:"componentDidMount",value:function(){console.log(this.props.states),console.log(this.state.name.length)}},{key:"render",value:function(){this.props.match.params.id;return r.a.createElement("div",{className:"addpost"},r.a.createElement("p",{className:this.state.isHidden},"editing post..."),r.a.createElement("h1",{className:this.state.hideBody},"Edit"),r.a.createElement("div",{className:"field ".concat(this.state.hideBody)},r.a.createElement("label",{className:"label"},"Name"),r.a.createElement("div",{className:"control"},r.a.createElement("input",{onChange:this.changeState,name:"name",className:"input",type:"text",placeholder:"Text input",value:this.state.name}))),r.a.createElement("div",{className:"field ".concat(this.state.hideBody)},r.a.createElement("label",{className:"label"},"Price"),r.a.createElement("div",{className:"control"},r.a.createElement("input",{onChange:this.changeState,name:"price",className:"input",type:"number",placeholder:"Text input",value:this.state.price}))),r.a.createElement("div",{className:"field ".concat(this.state.hideBody)},r.a.createElement("label",{className:"label"},"Description"),r.a.createElement("div",{className:"control"},r.a.createElement("textarea",{onChange:this.changeState,name:"description",className:"textarea",placeholder:"Textarea",value:this.state.description}))),r.a.createElement("div",{className:"field ".concat(this.state.hideBody)},r.a.createElement("label",{className:"label"},"Image"),r.a.createElement("div",{className:"control"},r.a.createElement("input",{type:"file",onChange:this.getImg}))),this.renderRedirect(),r.a.createElement("button",{onClick:this.onClick,className:"button is-primary"},"SUBMIT"))}}]),t}(n.Component),C=Object(o.b)(function(e){return{states:e.data,notif:e.addpost}},function(e){return{postAdded:function(){return e({type:"SHOW_SUCCESS",payload:"added"})}}})(x),k=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,c=new Array(n),s=0;s<n;s++)c[s]=arguments[s];return(a=Object(b.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(c)))).state={data:{img:"",name:"",price:"",description:"",picurl:"",redirect:!1},isHidden:"notHidden",adding:"isHidden"},a.onClick=Object(O.a)(y.a.mark(function e(){var t,n,r,c,s;return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.setState({isHidden:"isHidden",adding:"notHidden"}),(t=new FormData).append("file",a.state.img),n={method:"POST",body:t},e.next=6,fetch("http://localhost:8000/upload",n).catch(function(e){return console.error("Error:",e)});case 6:return r={name:a.state.name,price:a.state.price,description:a.state.description,picurl:a.state.picurl},e.next=9,fetch("http://localhost:8000/post",{method:"POST",body:JSON.stringify(r),headers:{"Content-Type":"application/json"}});case 9:return c=e.sent,e.next=12,c.json();case 12:return s=e.sent,e.next=15,console.log(s);case 15:e.sent,a.props.postAdded(),a.setState({redirect:!0,isHidden:"notHidden",adding:"isHidden"});case 18:case"end":return e.stop()}},e)})),a.getImg=function(){var e=Object(O.a)(y.a.mark(function e(t){var n;return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n="http://localhost:8000/upload/"+t.target.files[0].name,e.next=3,a.setState({img:t.target.files[0],picurl:n});case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.changeState=function(e){a.setState(Object(w.a)({},e.target.name,e.target.value))},a.renderRedirect=function(){if(a.state.redirect)return r.a.createElement(g.a,{to:"/"})},a}return Object(v.a)(t,e),Object(f.a)(t,[{key:"componentDidMount",value:function(){console.log(this.props)}},{key:"render",value:function(){return r.a.createElement("div",{className:"addpost ".concat(this.state.isHidden)},r.a.createElement("p",{className:this.state.adding},"adding post..."),r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"label"},"Name"),r.a.createElement("div",{className:"control"},r.a.createElement("input",{onChange:this.changeState,name:"name",className:"input",type:"text",placeholder:"Text input"}))),r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"label"},"Price"),r.a.createElement("div",{className:"control"},r.a.createElement("input",{onChange:this.changeState,name:"price",className:"input",type:"number",placeholder:"Text input"}))),r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"label"},"Description"),r.a.createElement("div",{className:"control"},r.a.createElement("textarea",{onChange:this.changeState,name:"description",className:"textarea",placeholder:"Textarea"}))),r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"label"},"Image"),r.a.createElement("div",{className:"control"},r.a.createElement("input",{type:"file",onChange:this.getImg}))),this.renderRedirect(),r.a.createElement("button",{onClick:this.onClick,className:"button is-primary"},"SUBMIT"))}}]),t}(n.Component),H=Object(o.b)(null,function(e){return{postAdded:function(){return e({type:"SHOW_SUCCESS",payload:"added"})}}})(k),T=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(b.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(r)))).state={data:[],postsatus:!0,submitted:!1},a}return Object(v.a)(t,e),Object(f.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"hero is-primary is-fixed"},r.a.createElement("div",{className:"container"},r.a.createElement("nav",{className:"navbar",role:"navigation","aria-label":"main navigation"},r.a.createElement("div",{className:"navbar-brand"},r.a.createElement("a",{className:"navbar-item",href:"/"},r.a.createElement("img",{src:"https://pngimage.net/wp-content/uploads/2018/06/sport-logo-png-3.png",width:"112",height:"28"}))),r.a.createElement("div",{id:"navbarBasicExample",className:"navbar-menu"},r.a.createElement("div",{className:"navbar-start"},r.a.createElement(i.b,{to:"/",className:"navbar-item "},"Dashboard"),r.a.createElement(i.b,{to:"/addpost",className:"navbar-item "},r.a.createElement("button",{className:"button is-link is-inverted"},"Add Post +"))))))),r.a.createElement(g.b,{exact:!0,path:"/",component:j}),r.a.createElement(g.b,{path:"/post/:id",component:C}),r.a.createElement(g.b,{path:"/addpost",component:H}))}}]),t}(n.Component),A=Object(g.e)(T);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var D=Object(l.c)(u,Object(l.a)(d.a));s.a.render(r.a.createElement(o.a,{store:D},r.a.createElement(i.a,null,r.a.createElement(A,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[33,1,2]]]);
//# sourceMappingURL=main.f9956a51.chunk.js.map